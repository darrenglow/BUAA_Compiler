cmake_minimum_required(VERSION 3.15)
project(BUAA_Compiler)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_BUILD_TYPE Debug)

# 添加源文件
aux_source_directory(./src DIR_SRC)
aux_source_directory(src/Fronted/Lexer DIR_Lexer)

add_executable(BUAA_Compiler ${DIR_SRC} ${DIR_Lexer} src/Fronted/Parser/Parser.h src/Fronted/Parser/Parser.cpp src/Fronted/Parser/AST.h src/Fronted/Parser/AST.cpp src/Fronted/Error/Error.h src/Fronted/Error/ErrorTable.h src/Fronted/Error/ErrorTable.cpp src/Middle/Visitor/Visitor.h src/Middle/Visitor/Visitor.cpp src/Middle/Symbol/Symbol.h src/Middle/Symbol/SymbolTable.h src/Middle/Symbol/SymbolTable.cpp src/Middle/MiddleCode.h src/Middle/MiddleCode.cpp src/Middle/MiddleCodeItem/MiddleCodeItem.h src/Middle/MiddleCodeItem/MiddleCodeItem.cpp src/Middle/Util/Calculate.h src/Middle/Util/Calculate.cpp src/Util/Debug.h src/Middle/Symbol/Symbol.cpp src/Middle/Util/Flatten.h src/Util/Exception.h src/Middle/Intermediate/Intermediate.h src/Middle/Intermediate/Immediate.h src/Middle/Intermediate/Immediate.cpp src/Backend/MipsGenerator.h src/Backend/Instruction.h src/Backend/MipsGenerator.cpp src/Backend/Instruction.cpp src/Backend/Register/RegisterAlloc.h src/Backend/Register/Register.h src/Backend/Register/Register.cpp src/Backend/Register/RegisterAlloc.cpp src/Middle/Optimization/NoChangeValue.h src/Middle/Optimization/NoChangeValue.cpp src/Middle/Optimization/DataFlow.h src/Middle/Optimization/DataFlow.cpp src/Middle/Optimization/DefinitionSet.h src/Middle/Optimization/DefinitionSet.cpp src/Middle/MiddleCodeItem/Label.h src/Middle/MiddleCodeItem/MiddleJump.h src/Middle/MiddleCodeItem/BasicBlock.h src/Middle/MiddleCodeItem/Func.h src/Middle/MiddleCodeItem/MiddleFuncCall.h src/Middle/MiddleCodeItem/MiddleReturn.h src/Middle/MiddleCodeItem/MiddleDef.h src/Middle/MiddleCodeItem/MiddleUnaryOp.h src/Middle/MiddleCodeItem/MiddleOffset.h src/Middle/MiddleCodeItem/MiddleBinaryOp.h src/Middle/MiddleCodeItem/MiddleMemoryOp.h src/Middle/MiddleCodeItem/MiddleIO.h src/Middle/MiddleCodeItem/Label.cpp src/Middle/MiddleCodeItem/BasicBlock.cpp src/Middle/MiddleCodeItem/Func.cpp src/Middle/MiddleCodeItem/MiddleBinaryOp.cpp src/Middle/MiddleCodeItem/MiddleDef.cpp src/Middle/MiddleCodeItem/MiddleFuncCall.cpp src/Middle/MiddleCodeItem/MiddleIO.cpp src/Middle/MiddleCodeItem/MiddleJump.cpp src/Middle/MiddleCodeItem/MiddleMemoryOp.cpp src/Middle/MiddleCodeItem/MiddleOffset.cpp src/Middle/MiddleCodeItem/MiddleReturn.cpp src/Middle/MiddleCodeItem/MiddleUnaryOp.cpp src/Middle/MiddleCodeItem/Middle.h src/Middle/Optimization/PositiveSet.h src/Middle/Optimization/PositiveSet.cpp src/Middle/MiddleCodeItem/PushParam.h src/Middle/MiddleCodeItem/PushParam.cpp
        src/Backend/Optimization/ColorAllocator.h
        src/Backend/Optimization/ColorAllocator.cpp
        src/Backend/Optimization/GraphNode.h
        src/Backend/Optimization/GraphNode.cpp)